# üê≥ Container Production Configuration
# This file configures CONTAINERIZED production-like environment
# Can run in parallel with local development

# Project Settings
PROJECT_NAME=gourls
GO_DOMAIN=go                 # Production domain (standard go links)

# üè≠ PRODUCTION PORTS (Standard ports for clean URLs)
NGINX_PORT=80                 # nginx proxy (standard HTTP port for clean go domain)
FRONTEND_PORT=3200            # Angular container (host port)
API_PORT=3000                 # .NET Core API container (host port)
POSTGRES_PORT=3432            # PostgreSQL container (host port for debugging)

# üåê PRODUCTION URLs (clean URLs with standard port 80)
MAIN_URL=http://${GO_DOMAIN}          # Main access via nginx on standard port
FRONTEND_URL=http://localhost:${FRONTEND_PORT}
API_URL=http://localhost:${API_PORT}

# üìä Database Configuration (Production-like)
POSTGRES_HOST=postgres        # Container hostname
POSTGRES_DB=gourls            # Production database name
POSTGRES_USER=postgres
POSTGRES_PASSWORD=gourls_secure_password
POSTGRES_VERSION=15

# üîó API Configuration (nginx handles routing)
API_BASE_URL=http://api:${API_PORT}

# üé® Frontend Build Configuration
FRONTEND_BASE_URL=/
FRONTEND_API_URL=/api
IS_PRODUCTION=true

# üö´ Reserved Words (cannot be used as short URLs)
RESERVED_WORDS=search,create,docs,admin,help,about,login,logout,settings,profile,dashboard,api,assets

# üèóÔ∏è Build Configuration
NODE_ENV=production
ASPNETCORE_ENVIRONMENT=Production

# üë§ User Authentication (Production Configuration)
# In production, users will be identified by:
# 1. Custom header (X-User-Name) - for reverse proxy setups
# 2. Environment variable (CURRENT_USER) - for container deployments
# 3. System username detection - for local production testing
AUTHENTICATION_MODE=Environment
AUTHENTICATION_DEFAULT_USER=system         # Default user for system operations
CURRENT_USER=system                         # Current user for container environment

# User management settings
# Users can only edit/delete their own entries unless they are "system" user
# System entries (created by "system" user) are protected from modification by regular users

# ÔøΩüîß Internal Container Ports (inside Docker network)
API_INTERNAL_PORT=5000              # Internal API port inside container
FRONTEND_INTERNAL_PORT=80           # Internal nginx port inside container  
POSTGRES_INTERNAL_PORT=5432         # Internal PostgreSQL port inside container

# üê≥ Container-specific settings
COMPOSE_PROJECT_NAME=gourls-production
RESTART_POLICY=unless-stopped
CONTAINER_MODE=true

# üè∑Ô∏è Container and Network Names
POSTGRES_CONTAINER=gourls-postgres
API_CONTAINER=gourls-api
FRONTEND_CONTAINER=gourls-frontend
NGINX_CONTAINER=gourls-nginx
NETWORK_NAME=gourls-network
VOLUME_NAME=postgres_data